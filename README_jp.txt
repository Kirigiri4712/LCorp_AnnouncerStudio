================================================================================
                          Announcers Studio
                    Lobotomy Corporation MOD用
================================================================================

Lobotomy Corporation用のアナウンサーMODを作成するGUIツールです。

--------------------------------------------------------------------------------
                            クイックスタート
--------------------------------------------------------------------------------

1. AnnouncerTool.exeを起動
2. 「言語:」の横の「追加」ボタンをクリックし、言語コードを追加（例：「jp」「en」）
3. リストの各タグをクリックしてセリフを編集
4. Announcer.png（512x512）とUI.png（345x213）を割り当て
5. 保存先フォルダを選択して「MODを保存」をクリック
6. 生成されたフォルダをLobotomy CorporationのMODフォルダにコピー

--------------------------------------------------------------------------------
                            動作環境
--------------------------------------------------------------------------------

- Windows 10/11（64ビット）
- .NET 8.0 ランタイム（自己完結型ビルドに同梱）

--------------------------------------------------------------------------------
                          インストール
--------------------------------------------------------------------------------

1. zipファイルを任意のフォルダに解凍
2. 「Languages」フォルダがexeと同じディレクトリにあることを確認
3. AnnouncerTool.exeを実行

--------------------------------------------------------------------------------
                           詳細な使い方
--------------------------------------------------------------------------------

=== 新しいアナウンサーの作成 ===

1. ツールを起動 - デフォルトのアナウンサー「NewAnnouncer1」が作成されます
2. テキストフィールドにアナウンサー名を入力（英字推奨）
3. 「言語:」の横の「追加」ボタンをクリックして言語コードを追加（例：「jp」「en」「kr」）
4. 設定に基づいてタグが自動生成されます
5. リストの各タグをクリックしてセリフを編集

=== タグの説明 ===

| タグ                | トリガー                                   |
|---------------------|-------------------------------------------|
| Click               | アナウンサー選択時                         |
| StartWork           | 業務開始時（音声のみ）                     |
| HalfOverWork        | エネルギー目標の半分達成時                 |
| OverWork            | エネルギー目標達成時                       |
| AgentDie            | エージェント死亡時                         |
| AgentPanic          | エージェントパニック時                     |
| OnAgentPanicReturn  | パニック回復時                             |
| AllDie              | 全エージェント死亡時                       |
| OnGetEGOgift        | E.G.Oギフト獲得時                          |
| CounterToZero       | アブノーマリティ脱走時                     |
| Suppress            | アブノーマリティ鎮圧時                     |
| QliphothMeltdown    | クリフォトメルトダウン発生時               |
| Rabbit              | ラビットチーム派遣時                       |
| RabbitReturn        | ラビットチーム帰還時                       |
| Idle                | 待機時（時間は設定で変更可能）             |
| OnOverWork          | 管理終了ボタン押下時（音声のみ）           |
| AgentHurt           | エージェント大ダメージ時（HP60%以上減少）  |

=== プレースホルダー ===

セリフ内でプレースホルダーを使用できます。タグ編集時に右側のリストから
選択して「追加」をクリックするか、ダブルクリックで挿入できます。

「プレースホルダー翻訳」にチェックを入れると、コードの代わりに説明が表示されます。

エージェント用（AgentDie、AgentPanic、OnAgentPanicReturn、
               OnGetEGOgift、AgentHurt）：
- #0                   : エージェント名
- [#CurrentSefira_LEB] : エージェントの部署
- [#AgentLevel_LEB]    : エージェントレベル

アブノーマリティ用（CounterToZero、Suppress）：
- $0                   : アブノーマリティ名
- [$CurrentSefira_LEB] : アブノーマリティの部署
- [$RiskLevel_LEB]     : 危険度

グローバル（全タグで使用可能）：
- [PlayerHour_LEB]     : 現在時刻（時）
- [PlayerMinute_LEB]   : 現在時刻（分）
- [PlayerSecond_LEB]   : 現在時刻（秒）
- [NowEnergy_LEB]      : 現在エネルギー
- [NeedEnergy_LEB]     : 必要エネルギー
- [StillShort_LEB]     : 残りエネルギー

=== 画像の割り当て ===

- Announcer.png : デフォルトのポートレート画像（512x512ピクセル必須）
- UI.png        : 選択ボタンのアイコン（345x213ピクセル推奨）
- タグ画像      : 特定のアナウンス用ポートレート（512x512ピクセル）

画像サイズが必須サイズと異なる場合、以下の選択肢が表示されます：
- はい（引き伸ばし）: 縦横比を無視して変形
- いいえ（拡縮＆切り抜き）: 縦横比を維持し、余分を削除
- キャンセル: リサイズせずに元の画像を使用

「画像を割当...」の横にある「×」ボタンで割り当てた画像を削除できます。

=== 音声の割り当て ===

- 「音声を割当...」をクリックしてWAVファイルをタグに割り当て
- 再生ボタンをクリックして割り当てた音声をプレビュー
- 「音声を割当...」の横にある「×」ボタンで割り当てた音声を削除できます

=== 音声ノーマライズ ===

「音声ノーマライズ」チェックボックスが有効（デフォルト：オン）の場合、
音声ファイルは割り当て時に自動的に音量調整されます。

コンプレッションスライダー（0-100%）でダイナミックレンジ圧縮を調整：
- 0%   : 圧縮なし - 元の抑揚を維持、音量のみ調整
- 50%  : 中程度の圧縮 - 自然さと一貫性のバランス
- 100% : 最大圧縮 - 音量差を大幅に平坦化

推奨設定：
- 0-30%   : 抑揚のある自然な音声
- 30-60%  : バランス型（ほとんどの場合に推奨）
- 60-100% : 音量差が極端な音声

音声にノイズや歪みが発生する場合は、コンプレッション値を下げてください。

=== ランダムアナウンス ===

1. 「ランダム」チェックボックスをオン
2. 「数量」を設定（タグごとの最大バリエーション数、1-10）
3. 「タグ自動生成」が有効な場合、番号付きバリエーションが自動作成されます
   （例：AgentDie_1、AgentDie_2、AgentDie_3）

=== タグ自動生成 ===

- 有効にすると、言語追加時にタグが自動生成されます
- ランダム/数量の設定変更時にタグが再生成されます
- 無効にすると、タグの存在を手動で管理できます

=== 全て生成ボタン ===

- 「全て生成」をクリックすると、現在の言語の17個の基本タグがすべて作成されます
- タグ自動生成が無効な場合やタグが欠けている場合に便利です
- 既存のテキスト内容は保持されます

=== 多言語対応 ===

- 「追加」をクリックして新しい言語コードを追加
- 「削除」をクリックして言語とそのテキストデータを削除
- 各言語には独自のタグテキストセットがあります
- 画像と音声はすべての言語で共有されます

=== 枠線色 ===

- 「枠線の色を変更」をクリックしてアナウンス枠の色をカスタマイズ
- 「透明度」（0-255）を調整して透明度を設定

=== 既存MODの読み込み ===

「既存を読込」をクリックし、既存MODのAnnouncersXML_LEB.xmlファイルを
選択してください。

=== 元に戻す/やり直し ===

- 「元に戻す/やり直しを有効化」チェックボックスをオンにしてボタンを表示
- 「元に戻す」をクリックして最後の変更を取り消し
- 「やり直し」をクリックして取り消した変更を復元
- 1ステップのみ対応
- 注意：この機能は実験的であり、問題が発生する場合があります

=== 設定の保存 ===

以下の設定は自動的に保存され、次回起動時に復元されます：
- ツール言語（英語/日本語）
- プレースホルダー翻訳のチェック状態
- 元に戻す/やり直しを有効化のチェック状態
- 音声ノーマライズのチェック状態
- コンプレッションスライダーの値

設定はアプリケーションフォルダ内のsettings.jsonに保存されます。

--------------------------------------------------------------------------------
                           出力構造
--------------------------------------------------------------------------------

YourMod/
  AnnouncersXML_LEB.xml
  AnnouncersImage_LEB/
    [アナウンサー名]/
      Announcer.png
      UI.png
      Announcer[タグ名].png
  AnnouncersTEXT_LEB/
    [アナウンサー名]/
      [言語]/
        [言語].xml
  AnnouncersSounds_LEB/
    [アナウンサー名]/
      [タグ名].wav

--------------------------------------------------------------------------------
                       ツール言語の追加
--------------------------------------------------------------------------------

「Languages」フォルダにJSONファイルを配置すると、UIの言語を追加できます。
テンプレートとしてen.jsonまたはja.jsonを参照してください。

ファイル名（拡張子なし）が言語コードになります。
ドロップダウンに表示される名前として「LanguageName」キーを含めてください。

--------------------------------------------------------------------------------
                           ライセンス
--------------------------------------------------------------------------------

このツールはLobotomy CorporationのMOD作成用として提供されています。

--------------------------------------------------------------------------------
                           クレジット
--------------------------------------------------------------------------------

Claude Codeで作成

================================================================================
